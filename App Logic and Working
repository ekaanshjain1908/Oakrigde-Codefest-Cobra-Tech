from striprtf.striprtf import rtf_to_text

with open("Document.rtf") as infile:
    content = infile.read()
    text = rtf_to_text(content)

text = text.split()
text.pop()

'''variables'''
groceryrep = 0
entertainmentrep = 0
foodrep = 0
miscellanousrep = 0
electronicrep =0
homerep = 0
repairsrep = 0

grocerycost = 0
foodcost = 0
entertainmentcost = 0
electroniccost = 0
home_improvementcost = 0
miscellanouscost = 0
repairscost = 0

grocerydate = []
fooddate = []
entertainmentdate = []
miscellanousdate = []
electronicdate = []
home_improvementdate = []
repairsdate = []
'''dictionaries'''

repairs = ['UrbanClap', 'plumb', 'mechanic', 'fix', 'carpent', 'repairs']
movies = ['PVR', 'INOX', 'CarnivalCinemas', 'Cinepolis', 'Miraj']
transport = ['Ola', 'Uber', 'Nammayatri', 'Makemytrip', 'Booking', 'Indigo', 'airlines']
insurance= ['LIC', 'HDFClife', 'Maxlife', 'RelianceNippon', 'Sahara', 'Canara', 'Indiafirst', 'Acko','Cigna', 'digit', 'generali', 'magma']
grocery = ['Blinkit', 'mart', 'fruit', 'vegetable', '1mg', 'palmolive']
food = ['Swiggy', 'Zomato', 'PandaExpress', 'Ubereats', 'Grubhub', 'Doordash', 'Dominos', 'Pizzahut']
entertainment = ['PVR', 'BookMyShow', 'Netflix', 'Disney', 'Hotstar', 'Amazonprime', 'Voot', 'JioLiv', 'Sonyliv', 'Youtube']
electronic = ['Reliance', 'Croma', 'Sony', 'digital', 'phone', 'electronics', 'electronic', 'realme', 'readme', 'samsung', 'apple', 'HP', 'microsoft', 'casio', 'nokia']
home_improvement = ['sofasandmore', 'stanleys', 'toyota', 'mercedes', 'audi','BMW', 'skoda', 'volkswagen', 'cars', 'sofas', 'durian']

while text != []:
    WORKING_WITH_name = list(text[0:1])
    WORKING_WITH_cost = text[0]
    text.pop(0)
    print(WORKING_WITH_name)
    counter = 0
    recheck = 0
    def check(groceryrep, foodrep, entertainmentrep, miscellanousrep, electronicrep, homerep, grocerycost, foodcost, entertainmentcost, miscellanouscost, electroniccost, homeimprovementcost, grocerydate, fooddate, entertainmentdate, miscellanousdate, electronicdate, home_improvementdate, word):
        print('STARTING CHECK')
        found = 0
        date = ''
        y = 0
        z = 0
        cost = ''
        list = []
        for i in WORKING_WITH_cost:
            list.append(i)
        while list[z + 2] != '/':
            list.remove(list[z])

        for i in list:
            if i == '-':
                break
            else:
                date += i
        print(word)
        for i in WORKING_WITH_cost:
            y += 1
            for j in i:
                if j == 'â‚¹':
                    while WORKING_WITH_cost[y] != '-':
                        print(WORKING_WITH_cost[y])
                        cost += WORKING_WITH_cost[y]
                        y += 1

        print(cost)

        print(word)
        print(word, 'lol')

        for i in grocery:
            if word.find(i) != -1:
                print(i, word)
                groceryrep += 1
                grocerycost += int(cost)
                grocerydate.append(cost)
                found = 1

        for i in food:
            if found != 1:
                if word.find(i) != -1:
                    print(i, word)
                    foodrep += 1
                    foodcost += int(cost)
                    fooddate.append(cost)
                    found = 1

        for i in entertainment:
            if found != 1:
                if word.find(i) != -1:
                    print(i, word)
                    entertainmentrep +=1
                    entertainmentcost += int(cost)
                    entertainmentdate.append(cost)
                    found = 1

        for i in electronic:
            if found != 1:
                if word.find(i) != -1:
                    print(i, word)
                    electronicrep += 1
                    electroniccost += int(cost)
                    electronicdate.append(cost)
                    found = 1

        for i in home_improvement:
            if found != 1:
                if word.find(i) != -1:
                    print(i, word)
                    homerep += 1
                    homeimprovementcost += int(cost)
                    home_improvementdate.append(cost)
                    found = 1
        #
        # for i in repairs:
        #     if found != 1:
        #         if word.find(i)!= -1:
        #             print(i, word)
        #             repairsrep += 1
        #             repairscost += int(cost)
        #             repairsdate.append(cost)


        if found != 1:
            miscellanousrep += 1
            miscellanouscost += int(cost)
            miscellanousdate.append(cost)


        return groceryrep, foodrep, entertainmentrep,  miscellanousrep, electronicrep, homerep, grocerycost, foodcost, entertainmentcost, miscellanouscost, electroniccost, homeimprovementcost, grocerydate, fooddate, entertainmentdate, miscellanousdate, electronicdate, home_improvementdate

    for i in WORKING_WITH_name:
        word = ''
        counter = 0
        for j in i:
            if j != '.' and j != '-':
                word += j
                counter += 1
            else:
                break
        groceryrep, foodrep, entertainmentrep, miscellanousrep, electronicrep, homerep, grocerycost, foodcost, entertainmentcost,miscellanouscost, electroniccost, home_improvementcost, grocerydate, fooddate, entertainmentdate, miscellanousdate, electronicdate, home_improvementdate = check(groceryrep, foodrep, entertainmentrep, miscellanousrep,electronicrep, homerep,grocerycost,foodcost,entertainmentcost,miscellanouscost,electroniccost,home_improvementcost, grocerydate, fooddate, entertainmentdate, miscellanousdate, electronicdate, home_improvementdate, word)
        print(groceryrep, foodrep, entertainmentrep, miscellanousrep)


print('name', 'Food', foodrep, 'Grocery', groceryrep, 'Entertainment', entertainmentrep, 'Miscellanous', miscellanousrep, 'Electronic', electronicrep, 'Home Improvement', homerep)
print('cost', 'Food ', foodcost, 'Grocery', grocerycost, 'Entertainement', entertainmentcost, 'Miscellanous', miscellanouscost, 'Electronic', electroniccost, 'Home improvement', home_improvementcost)
print('Dates')
print('food', fooddate)
print('grocery', grocerydate)
print('entertainment', entertainmentdate)
print('miscellanous', miscellanousdate)
print('electronics', electronicdate)
print('Home improvement', home_improvementdate  )
